<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ng-xterm documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/Vagrant.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ng-xterm documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>AddonsProviderService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/terminal/services/addons-provider.service.ts</code>
        </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#addOns">addOns</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#ligaturesAddon">ligaturesAddon</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#unicode11Addon">unicode11Addon</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#webLinksAddon">webLinksAddon</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#wegGlAddon">wegGlAddon</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#destroyAddons">destroyAddons</a>
                            </li>
                            <li>
                                <a href="#loadAddons">loadAddons</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy">ngOnDestroy</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(electronService: <a href="../injectables/ElectronService.html">ElectronService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/terminal/services/addons-provider.service.ts:32</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>electronService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ElectronService.html" target="_self" >ElectronService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="destroyAddons"></a>
                    <span class="name">
                        <b>
                            destroyAddons
                        </b>
                        <a href="#destroyAddons"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>destroyAddons()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="93"
                            class="link-to-prism">src/terminal/services/addons-provider.service.ts:93</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Dispose of the the terminal addons when the terminal is destroyed during the
ngOnDestroy lifecycle event.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadAddons"></a>
                    <span class="name">
                        <b>
                            loadAddons
                        </b>
                        <a href="#loadAddons"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadAddons(terminal: Terminal)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="77"
                            class="link-to-prism">src/terminal/services/addons-provider.service.ts:77</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Since NgTerminal relies on @ViewChild to open and load its self into the Angular DOM,
it is loaded during the ngAfterViewInit lifecycle event. If we tried to pass an NgTerminal
rather than a &quot;standard&quot; xterm terminal, we would receive an error stating &quot;child&quot;
(the selector of the underlying xterm) is undefined. This makes sense since the addons
service is injected into the constructor of the terminal component, and the constructor is
executed before any lifecycle hooks.</p>
<p>To avoid this issue, we can pass a &quot;standard&quot; xterm terminal (since &quot;under the hood&quot;, NgTerminal
is &quot;standard&quot; xterm terminal with a lot of added Angular functionality), as the &quot;standard&quot; terminal does not
rely on any lifecycle methods to render</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>terminal</td>
                                    <td>
                                            <code>Terminal</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the terminal which will load and use the addons.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <b>
                            ngOnDestroy
                        </b>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="103"
                            class="link-to-prism">src/terminal/services/addons-provider.service.ts:103</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>So we don&#39;t cause memory leaks, we need to destroy the loaded addons,
and remove any active ipcRenderer event listeners. </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="addOns"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            addOns</b>
                            <a href="#addOns"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Addon" target="_self" >Addon[]</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/terminal/services/addons-provider.service.ts:32</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>An array of allowed addons</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ligaturesAddon"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                                <span class="modifier">Readonly</span>
                            ligaturesAddon</b>
                            <a href="#ligaturesAddon"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Addon" target="_self" >LigaturesAddon</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/terminal/services/addons-provider.service.ts:26</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>the Xterm Ligatures Addon </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="unicode11Addon"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                                <span class="modifier">Readonly</span>
                            unicode11Addon</b>
                            <a href="#unicode11Addon"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Addon" target="_self" >Unicode11Addon</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/terminal/services/addons-provider.service.ts:21</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>the Xterm Unicode11 Addon </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="webLinksAddon"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                                <span class="modifier">Readonly</span>
                            webLinksAddon</b>
                            <a href="#webLinksAddon"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Addon" target="_self" >WebLinksAddon</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/terminal/services/addons-provider.service.ts:18</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>the Xterm WebLinks Addon </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="wegGlAddon"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                                <span class="modifier">Readonly</span>
                            wegGlAddon</b>
                            <a href="#wegGlAddon"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Addon" target="_self" >WebglAddon</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/terminal/services/addons-provider.service.ts:15</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>the Xterm WebGL Addon </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, OnDestroy } from &quot;@angular/core&quot;
import { WebglAddon } from &quot;xterm-addon-webgl&quot;
import { WebLinksAddon } from &quot;xterm-addon-web-links&quot;
import { Unicode11Addon } from &quot;xterm-addon-unicode11&quot;
import { Terminal } from &quot;xterm&quot;
import { ElectronService } from &quot;@shared/services&quot;
import { Addon, IPCChannelNames } from &quot;../../shared/utils/constants&quot;
import { LigaturesAddon } from &quot;xterm-addon-ligatures&quot;

@Injectable({ providedIn: &quot;root&quot; })

/** Provide the Xterm JS addons as a service. */
export class AddonsProviderService implements OnDestroy {
	/** the Xterm WebGL Addon */
	private readonly wegGlAddon: WebglAddon

	/** the Xterm WebLinks Addon */
	private readonly webLinksAddon: WebLinksAddon

	/** the Xterm Unicode11 Addon */
	private readonly unicode11Addon: Unicode11Addon



	/** the Xterm Ligatures Addon */
	private readonly ligaturesAddon: LigaturesAddon

	/**
	 * An array of allowed addons
	 * @see src/shared/utils/constants.ts
	 * */
	private addOns: Addon[] &#x3D; []

	constructor(private readonly electronService: ElectronService) {

		// create a new unicode 11 add on
		this.unicode11Addon &#x3D; new Unicode11Addon()

		/*
			 Create a new font ligatures. Please be aware, this addon can be very finicky
			 if the right system fonts are not available, please use with caution.
		 */
		this.ligaturesAddon &#x3D; new LigaturesAddon()

		// create a new webgl addon
		this.wegGlAddon &#x3D; new WebglAddon(false)

		// create a new links addon
		this.webLinksAddon &#x3D; new WebLinksAddon(async ($event, url) &#x3D;&gt; {
			$event.preventDefault()
			await this.electronService.shell.openExternal(url)
		})

		// push the addons to the addons array.
		this.addOns.push(
			this.ligaturesAddon,
			this.unicode11Addon,
			this.wegGlAddon,
			this.webLinksAddon
		)
	}

	/**
	 * Since NgTerminal relies on @ViewChild to open and load its self into the Angular DOM,
	 * it is loaded during the ngAfterViewInit lifecycle event. If we tried to pass an NgTerminal
	 * rather than a &quot;standard&quot; xterm terminal, we would receive an error stating &quot;child&quot;
	 * (the selector of the underlying xterm) is undefined. This makes sense since the addons
	 * service is injected into the constructor of the terminal component, and the constructor is
	 * executed before any lifecycle hooks.
	 *
	 * To avoid this issue, we can pass a &quot;standard&quot; xterm terminal (since &quot;under the hood&quot;, NgTerminal
	 * is &quot;standard&quot; xterm terminal with a lot of added Angular functionality), as the &quot;standard&quot; terminal does not
	 * rely on any lifecycle methods to render
	 *
	 * @param {Terminal} terminal the terminal which will load and use the addons.
	 * */
	loadAddons(terminal: Terminal) {
		// loop through the addons array and load them into the terminal.
		this.addOns.forEach((addOn:Addon) &#x3D;&gt; {
			if(addOn) {
				terminal?.loadAddon(addOn)
				addOn.activate(terminal)
			}
		})
		// set the active unicode version
		terminal.unicode.activeVersion &#x3D; &quot;11&quot;
	}

	/**
	 * Dispose of the the terminal addons when the terminal is destroyed during the
	 * ngOnDestroy lifecycle event.
	 * */
	destroyAddons() {
		this.addOns.forEach((addOn:Addon) &#x3D;&gt; {
			if(addOn) {
				addOn.dispose()
			}
		})
	}

	/** So we don&#x27;t cause memory leaks, we need to destroy the loaded addons,
	 * and remove any active ipcRenderer event listeners. */
	ngOnDestroy(){
		this.destroyAddons()
	}

}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'AddonsProviderService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
